<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel Admin ‚Äì Pr√≥digo Suelo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>

  <!-- Chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Excel -->
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
</head>
<body>

<h1>Panel Administrador ‚Äì Pr√≥digo Suelo</h1>
<button id="btnLogout">Cerrar sesi√≥n</button>

<!-- DASHBOARD -->
<section class="dashboard">

  <div class="kpis">
    <div class="kpi-card">
      <h4>Total Ventas</h4>
      <p id="kpiVentas">‚Ç°0</p>
    </div>

    <div class="kpi-card">
      <h4>Kilogramos Vendidos</h4>
      <p id="kpiKg">0 kg</p>
    </div>

    <div class="kpi-card">
      <h4>Pedidos del Mes</h4>
      <p id="kpiPedidos">0</p>
    </div>

    <div class="kpi-card alerta">
      <h4>Pedidos Entrantes</h4>
      <p id="kpiEntrantes">0</p>
    </div>
  </div>

  <div class="card">
    <h3>üìä Ventas Mensuales</h3>
    <canvas id="graficaVentasMensuales"></canvas>
  </div>

  <div class="card">
    <h3>üì¶ Estado de Producci√≥n</h3>
    <div id="estadoProduccion" class="estado-grid"></div>
  </div>

</section>

<!-- PRODUCTOS -->
<section>
  <h2>Agregar / Editar Producto</h2>

  <input id="codigo" placeholder="C√≥digo">
  <input id="nombre" placeholder="Nombre">
  <input id="variedad" placeholder="Variedad">
  <input id="peso" type="number" placeholder="Peso (gramos)">
  <input id="precio" type="number" placeholder="Precio base">
  <input id="precioIVA" type="number" placeholder="Precio IVA" readonly>

  <button id="btnAgregar">Guardar</button>
</section>

<section>
  <h2>Productos</h2>

  <table class="tabla-productos">
    <thead>
      <tr>
        <th>C√≥digo</th>
        <th>Nombre</th>
        <th>Variedad</th>
        <th>Gramos</th>
        <th>Kilos</th>
        <th>Precio</th>
        <th>Precio IVA</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody id="productosBody"></tbody>
  </table>
</section>

<!-- CLIENTES -->
<section>
  <h2>Agregar Cliente</h2>

  <input id="clienteNombre" placeholder="Nombre">
  <input id="clienteTelefono" placeholder="Tel√©fono">
  <input id="clienteDireccion" placeholder="Direcci√≥n">

  <div>
    <input id="clienteUbicacion" placeholder="Lat, Lng" readonly>
    <button type="button" onclick="obtenerUbicacion()">üìç Usar ubicaci√≥n</button>
  </div>

  <select id="vendedorSelect"></select>

  <button id="btnAgregarCliente">Guardar Cliente</button>
</section>

<section>
  <h2>Clientes</h2>

  <table class="tabla-clientes">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Tel√©fono</th>
        <th>Direcci√≥n</th>
        <th>Mapa</th>
        <th>Vendedor</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody id="clientesContainer"></tbody>
  </table>
</section>

<!-- ESTAD√çSTICAS -->
<section>
  <h2>Estad√≠sticas por rango</h2>

  <input type="date" id="fechaInicio">
  <input type="date" id="fechaFin">

  <button id="btnFiltrarEstadisticas">Filtrar</button>
  <button id="btnExportExcel">Exportar Excel</button>

  <div id="estadisticasContainer"></div>
</section>

<script type="module" src="js/admin.js"></script>
</body>
</html>
